/******************* BIBLIOTHEQUES *******************************************/

#include "nboard.h"

/******************* CONSTANTES SYMBOLIQUES **********************************/

#define BP0 GPIO_read(PA_9)
#define BP1 GPIO_read(PA_10)
#define BP2 GPIO_read(PB_0)
#define BP3 GPIO_read(PB_7)
#define LED0 PB_3
#define LED1 PA_7
#define LED2 PA_6
#define LED3 PA_5
#define LED4 PA_3
#define LED5 PA_1
#define LED6 PA_0

/******************* PROTOTYPES DE FONCTIONS *********************************/


/******************* PROGRAMME PRINCIPAL *************************************/

int main(void)
{
	NB_init();
	float cpt1=0.00 ;
	float cpt2=0.00 ;

	while (1)
	{
		if ( BP0 == 0)
		{
			cpt1=0.00;
			cpt2=0.00;

		}
		if (BP1 == 0)
		{
			cpt1=cpt1+0.10;

		}
	    if (BP2 == 0)
		{
			cpt2=cpt2+0.10;
		}
		PWM_write(PB_5,cpt1);
		PWM_write(PB_4,cpt2);
		IHM_LCD_clear();
		IHM_LCD_locate(0,0);
		IHM_LCD_printf("vitesse = %4.2f",cpt1);
		IHM_LCD_locate(1,0);
		IHM_LCD_printf("vitesse = %4.2f",cpt2);
		TIM_wait_ms(100);


	}
}
